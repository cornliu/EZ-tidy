{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\web\\\\Web2020-FinalProject\\\\frontend\\\\src\\\\components\\\\Location.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { Avatar, Card, CardActionArea, CardActions, CardContent, CardMedia, CardHeader, Typography, Box, Button, Divider } from '@material-ui/core';\nimport { AddLocationDialog } from './AddLocation';\nimport { deleteLocation } from '../Connection';\nimport { Add, Folder } from '@material-ui/icons';\nimport { AuthContext } from '../contexts';\nimport { useSnackbar } from 'notistack';\nconst useStyles = makeStyles(theme => ({\n  title: {\n    padding: theme.spacing(6),\n    paddingBottom: theme.spacing(1)\n  },\n  root: {\n    padding: theme.spacing(4),\n    paddingTop: theme.spacing(2),\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexWrap: 'wrap',\n    justifyContent: \"left\",\n    '& > *': {\n      margin: theme.spacing(1),\n      width: theme.spacing(16),\n      height: theme.spacing(16)\n    }\n  },\n  card: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: 275,\n    minHeight: 180,\n    height: 'auto'\n  },\n  carddescription: {\n    height: 20,\n    width: \"auto\",\n    flexGrow: 1\n  },\n  addcard: {\n    display: \"flex\",\n    width: 275,\n    minHeight: 275,\n    height: 'auto',\n    justifyContent: 'center'\n  },\n  addcardarea: {\n    display: 'flex',\n    flexDirection: \"column\",\n    justifyContent: 'center'\n  },\n  addcardmedia: {\n    display: 'flex',\n    flexDirection: \"column\",\n    justifyContent: 'center'\n  },\n  cardmedia: {\n    height: 0,\n    paddingTop: '56.25%'\n  },\n  cardimgbox: {\n    height: 154\n  },\n  cardactionarea: {\n    flexGrow: 1\n  },\n  cardbutton: {\n    margin: theme.spacing(1)\n  }\n}));\nexport function Location(props) {\n  _s();\n\n  const {\n    getData\n  } = props;\n  const classes = useStyles();\n  let locationData = props.pageData;\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [dialogRef, setDialogRef] = useState(null);\n  const history = useHistory();\n  const auth = useContext(AuthContext);\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const hookLocation = useLocation();\n  useEffect(() => {\n    getData();\n  }, [dialogOpen]);\n\n  const handleDelete = async (path, id) => {\n    const req = {\n      path: path,\n      parentpath: hookLocation.pathname,\n      username: auth.name,\n      id: id\n    };\n    console.log(\"delete location\");\n    console.log(req);\n    const {\n      status,\n      data\n    } = await deleteLocation(req);\n    enqueueSnackbar(data, {\n      variant: status\n    });\n    props.getData();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      className: classes.title,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h3\",\n        align: \"left\",\n        children: locationData.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        paragraph: true,\n        align: \"left\",\n        gutterBottom: true,\n        children: locationData.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      className: classes.root,\n      children: [locationData.locationlist.map((location, index) => /*#__PURE__*/_jsxDEV(Card, {\n        className: classes.card,\n        component: \"div\",\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n            children: /*#__PURE__*/_jsxDEV(Folder, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 17\n          }, this),\n          titleTypographyProps: {\n            variant: 'h4',\n            align: 'left'\n          },\n          title: location.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          className: classes.cardimgbox,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: require(\"./imgs/\" + String(index % 7) + \".jpg\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"textSecondary\",\n            align: \"left\",\n            paragraph: true,\n            className: classes.carddescription,\n            children: location.description ? location.description : \"  \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n          disableSpacing: true,\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            size: \"small\",\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: () => {\n              history.push(location.path);\n              props.getData();\n            },\n            className: classes.cardbutton,\n            children: \"Enter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this), auth.identity === \"Admin\" && /*#__PURE__*/_jsxDEV(Button, {\n            size: \"small\",\n            variant: \"text\",\n            color: \"secondary\",\n            onClick: () => {\n              handleDelete(location.path, location.id);\n            },\n            className: classes.cardbutton,\n            children: \"DELETE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this)]\n      }, location.path, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this)), auth.identity === \"Admin\" && /*#__PURE__*/_jsxDEV(Card, {\n        elevation: 3,\n        onClick: () => {\n          setDialogOpen(true);\n        },\n        className: classes.addcard,\n        children: /*#__PURE__*/_jsxDEV(CardActionArea, {\n          className: classes.addcardarea,\n          children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n            className: classes.addcardmedia,\n            children: /*#__PURE__*/_jsxDEV(Avatar, {\n              sizes: \"Large\",\n              children: /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              children: \"Add New Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this)\n      }, \"newlocation\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AddLocationDialog, {\n        ref: dialogRef,\n        onClose: () => {\n          setDialogOpen(false);\n        },\n        open: dialogOpen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Location, \"v/7d+o86XEyt/X//+dyNd4Uq/h4=\", false, function () {\n  return [useStyles, useHistory, useSnackbar, useLocation];\n});\n\n_c = Location;\n\nvar _c;\n\n$RefreshReg$(_c, \"Location\");","map":{"version":3,"sources":["C:/web/Web2020-FinalProject/frontend/src/components/Location.js"],"names":["React","useContext","useEffect","useState","makeStyles","useHistory","useLocation","Avatar","Card","CardActionArea","CardActions","CardContent","CardMedia","CardHeader","Typography","Box","Button","Divider","AddLocationDialog","deleteLocation","Add","Folder","AuthContext","useSnackbar","useStyles","theme","title","padding","spacing","paddingBottom","root","paddingTop","display","flexDirection","flexWrap","justifyContent","margin","width","height","card","minHeight","carddescription","flexGrow","addcard","addcardarea","addcardmedia","cardmedia","cardimgbox","cardactionarea","cardbutton","Location","props","getData","classes","locationData","pageData","dialogOpen","setDialogOpen","dialogRef","setDialogRef","history","auth","enqueueSnackbar","hookLocation","handleDelete","path","id","req","parentpath","pathname","username","name","console","log","status","data","variant","description","locationlist","map","location","index","align","require","String","push","identity"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport {\r\n  Avatar, Card, CardActionArea, CardActions, CardContent, CardMedia,\r\n  CardHeader, Typography, Box, Button, Divider\r\n} from '@material-ui/core';\r\nimport { AddLocationDialog } from './AddLocation';\r\nimport { deleteLocation } from '../Connection';\r\nimport { Add, Folder } from '@material-ui/icons';\r\nimport { AuthContext } from '../contexts';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  title: {\r\n    padding: theme.spacing(6),\r\n    paddingBottom: theme.spacing(1),\r\n  },\r\n  root: {\r\n    padding: theme.spacing(4),\r\n    paddingTop: theme.spacing(2),\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    flexWrap: 'wrap',\r\n    justifyContent: \"left\",\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: theme.spacing(16),\r\n      height: theme.spacing(16),\r\n    },\r\n  },\r\n  card: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    width: 275,\r\n    minHeight: 180,\r\n    height: 'auto'\r\n  },\r\n  carddescription: {\r\n    height: 20,\r\n    width: \"auto\",\r\n    flexGrow: 1,\r\n  },\r\n  addcard: {\r\n    display: \"flex\",\r\n    width: 275,\r\n    minHeight: 275,\r\n    height: 'auto',\r\n    justifyContent: 'center'\r\n  },\r\n  addcardarea: {\r\n    display: 'flex',\r\n    flexDirection: \"column\",\r\n    justifyContent: 'center',\r\n  },\r\n  addcardmedia: {\r\n    display: 'flex',\r\n    flexDirection: \"column\",\r\n    justifyContent: 'center',\r\n  },\r\n  cardmedia: {\r\n    height: 0,\r\n    paddingTop: '56.25%',\r\n  },\r\n  cardimgbox: {\r\n    height: 154,\r\n  },\r\n  cardactionarea: {\r\n    flexGrow: 1,\r\n  },\r\n  cardbutton: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nexport function Location(props) {\r\n  const { getData } = props\r\n  const classes = useStyles();\r\n  let locationData = props.pageData;\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [dialogRef, setDialogRef] = useState(null)\r\n  const history = useHistory();\r\n  const auth = useContext(AuthContext);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const hookLocation = useLocation();\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [dialogOpen])\r\n\r\n  const handleDelete = async (path, id) => {\r\n    const req = {\r\n      path: path,\r\n      parentpath: hookLocation.pathname,\r\n      username: auth.name,\r\n      id: id\r\n    }\r\n    console.log(\"delete location\");\r\n    console.log(req)\r\n    const { status, data } = await deleteLocation(req)\r\n    enqueueSnackbar(data, { variant: status })\r\n    props.getData();\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Box className={classes.title}>\r\n        <Typography variant=\"h3\" align='left'>{locationData.title}</Typography>\r\n        <Typography paragraph align='left' gutterBottom >{locationData.description}</Typography>\r\n      </Box>\r\n      <Divider />\r\n      <Box className={classes.root}>\r\n        {locationData.locationlist.map((location, index) => (\r\n          <Card key={location.path} className={classes.card} component=\"div\" >\r\n            <CardHeader\r\n              avatar={\r\n                <Avatar>\r\n                  <Folder />\r\n                </Avatar>\r\n              }\r\n              titleTypographyProps={{ variant: 'h4', align: 'left' }}\r\n              title={location.title}\r\n            ></CardHeader>\r\n            {/* <CardMedia className={classes.cardmedia}\r\n              src={require(\"./imgs/\" + String(index % 7) + \".jpg\")}\r\n              // image=\"https://media.ethicalads.io/media/images/2020/12/ea-logo.png\"\r\n              title=\"Folder Img\"\r\n            >\r\n            </CardMedia> */}\r\n            <CardContent className={classes.cardimgbox}>\r\n              <img src = {require(\"./imgs/\" + String(index % 7) + \".jpg\")} />\r\n            </CardContent>\r\n            <CardContent >\r\n              <Typography\r\n                variant=\"body2\"\r\n                color=\"textSecondary\"\r\n                align='left'\r\n                paragraph\r\n                className={classes.carddescription} >\r\n                {location.description ? (\r\n                  location.description\r\n                ) : (\r\n                    \"  \"\r\n                  )}\r\n              </Typography>\r\n            </CardContent>\r\n            <CardActions disableSpacing>\r\n              <Button size=\"small\" variant=\"contained\" color=\"primary\"\r\n                onClick={() => { history.push(location.path); props.getData() }}\r\n                className={classes.cardbutton} >Enter</Button>\r\n              {auth.identity === \"Admin\" && (\r\n                <Button size=\"small\" variant=\"text\" color=\"secondary\"\r\n                  onClick={() => { handleDelete(location.path, location.id) }}\r\n                  className={classes.cardbutton} >DELETE</Button>\r\n              )}\r\n            </CardActions>\r\n          </Card>\r\n        ))}\r\n        {auth.identity === \"Admin\" && (\r\n          <Card key=\"newlocation\" elevation={3}\r\n            onClick={() => { setDialogOpen(true) }}\r\n            className={classes.addcard}\r\n          >\r\n            <CardActionArea className={classes.addcardarea}>\r\n              <CardMedia className={classes.addcardmedia}>\r\n                <Avatar sizes=\"Large\">\r\n                  <Add />\r\n                </Avatar>\r\n              </CardMedia>\r\n              <CardContent>\r\n                <Typography>\r\n                  Add New Location\r\n              </Typography>\r\n              </CardContent>\r\n            </CardActionArea>\r\n          </Card>\r\n\r\n        )}\r\n        <AddLocationDialog\r\n          ref={dialogRef}\r\n          onClose={() => { setDialogOpen(false) }}\r\n          open={dialogOpen} />\r\n      </Box>\r\n    </div>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}